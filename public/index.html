<!DOCTYPE html>

<html>

<!--link with external css-->

 <head>
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,700i|Open+Sans:400,400i,700"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="291.css" />
 </head>

 <!--javascript functions-->
 <script type="text/javascript">    

    var sourceL = new EventSource('/left')

    sourceL.addEventListener('message', function(e) {            
        document.getElementById('LeftDistance').innerHTML = e.data;
    }, false)

    var sourceR = new EventSource('/right')

    sourceR.addEventListener('message', function(e) { 
        document.getElementById('RightDistance').innerHTML = e.data;
    }, false)

    var sourceF = new EventSource('/front')

    sourceF.addEventListener('message', function(e) {            
        document.getElementById('TopDistance').innerHTML = e.data;
    }, false)

    var sourceB = new EventSource('/back')

    sourceB.addEventListener('message', function(e) {            
        document.getElementById('BotDistance').innerHTML = e.data;
    }, false)

</script>


 <head>
    <!-- <script>
        function httpGet("http://cpen291-14.ece.ubc.ca/instruc"){
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open( "GET", theUrl, false );
            data = {instruc: forward} ;
            xmlHttp.send( data );
            return xmlHttp.responseText;
        }
    </script> -->
 </head>

 

 <body>
    <div class="MainTitle">
        <header>
            <div class="header-right">
                <h1>CPEN291-G14A Remote Controlled Car</h1>
            </div>
        </header>
    </div>

    <div class="carimg">
        <img src = "car.png">
    </div>
    
    <div class="mainpage">
        <!--movement control arrow button animation-->
        <div class="buttons">
            <div id="toparrowicon" onclick="httpGet()">
                <div class="Tmidstick"></div>
                <div class="Tleftstick"></div>
                <div class="Trightstick"></div>
            </div>

            <div id="leftarrowicon">
                <div class="Lmidstick"></div>
                <div class="Ltopstick"></div>
                <div class="Lbotstick"></div>
            </div>
          
            <div id="rightarrowicon">
                <div class="Rmidstick"></div>
                <div class="Rtopstick"></div>
                <div class="Rbotstick"></div>
            </div>
            
            <div id="botarrowicon">
                <div class="Bmidstick"></div>
                <div class="Bleftstick"></div>
                <div class="Brightstick"></div>
            </div>
        </div>

        <!--distance numbers of four sides-->
        <div class = "distance">
            <p id="LeftDistance" onkeydown="doWhichKey(event)"></p>
            <p id="RightDistance" onkeydown="doWhichKey(event)"></p>
            <p id="TopDistance" onkeydown="doWhichKey(event)"></p>
            <p id="BotDistance" onkeydown="doWhichKey(event)"></p>
        </div>

    </div>
    


    <script>
        var leftdistance = 0;//TODO: getleftdistance()
        document.getElementById("LeftDistance").innerHTML = leftdistance;
        var rightdistance = 0;//TODO: getrightdistance()
        document.getElementById("RightDistance").innerHTML = rightdistance;
        var topdistance = 0;//TODO: gettopdistance()
        document.getElementById("TopDistance").innerHTML = topdistance;
        var botdistance = 0;//TODO: getbotdistance()
        document.getElementById("BotDistance").innerHTML = botdistance;
    </script>

    <script>
        function doWhichKey(e) { 
            e = e || window.event;
            var charCode = e.keyCode || e.which;
            if(charCode==119){ // W Pressed
                document.getElementById("toparrowicon").click();
            } else if (charCode == 97) { // A Pressed
                
            } else if (charCode == 100) { // D Pressed
               
            } else if (charCode == 115) { // S Pressed
            
            }
        } 

        window.addEventListener('keypress', function (e) { 
            console.log("You pressed " + doWhichKey(e));
        }, false);
       
    </script>

 </body>
</html>